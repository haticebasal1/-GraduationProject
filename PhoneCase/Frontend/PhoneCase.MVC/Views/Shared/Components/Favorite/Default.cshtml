@model List<FavoriteDto>

<li class="nav-item dropdown">
    <a class="position-relative nav-link dropdown-toggle" 
       href="/Favorite/Index" 
       id="favoriteDropdown" 
       role="button" 
       data-bs-toggle="dropdown" 
       aria-expanded="false">
        <i class="ti-heart fs-5"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            @(Model?.Count ?? 0)
        </span>
    </a>

    <div class="dropdown-menu dropdown-menu-end" aria-labelledby="favoriteDropdown">
        @if (Model == null || !Model.Any())
        {
            <span class="dropdown-item text-muted">Henüz favoriniz yok</span>
        }
        else
        {
            @foreach (FavoriteDto fav in Model)
            {
                <a class="dropdown-item d-flex align-items-center" href="/Product/Details/@fav.ProductId">
                    <img src=~/ui/img/@fav.ImageUrl alt=""
                         style="width:30px;height:30px;margin-right:8px;" />
                    <span>@fav.ProductName - @fav.Price ₺</span>
                </a>
            }

            <div class="dropdown-divider"></div>
            <a class="dropdown-item text-center fw-bold" href="/Favorite/Index">Tüm Favoriler</a>
        }
    </div>
</li>
